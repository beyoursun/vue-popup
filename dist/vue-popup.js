!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VuePopup=e():t.VuePopup=e()}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=3)}([function(t,e){t.exports={bind:function(t,e,n){var i=n.context.$refs[e.arg],o={el:t,value:e.value};i.$refs.reference instanceof Array?i.$refs.reference.push(o):i.$refs.reference=[o]}}},function(t,e,n){var i=n(4)(n(2),n(5),null,null,null);t.exports=i.exports},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Popup",props:{appendToBody:{type:Boolean,default:!0},arrowClass:String,direction:{type:String,default:"bottom"},padding:{type:Number,default:0}},data:function(){return{arrowStyle:{},directionMap:{top:"height",left:"width"},secondDirection:"",show:!1,left:0,top:0,currentElement:null}},computed:{directionClass:function(){return""===this.secondDirection?"popup-"+this.direction:"popup-"+this.secondDirection}},mounted:function(){var t=this;this.appendToBody&&document.body.appendChild(this.$el),this.$refs.reference.forEach(function(e){e.el.addEventListener("mouseenter",t.handleMouseEnter.bind(t,e.value)),e.el.addEventListener("mouseleave",t.handleMouseLeave.bind(t,e.value)),t.bindScroll(e.el)}),this.$el.addEventListener("mouseenter",function(){t.show=!0}),this.$el.addEventListener("mouseleave",function(){t.show=!1})},methods:{bindScroll:function(t){for(t=t.parentNode;t;)t.addEventListener("scroll",this.handleScroll),t=t.parentNode},computePosition:function(t,e){t=t.getBoundingClientRect(),e=e.getBoundingClientRect();var n=0,i=0,o=e.top-t.height-this.padding,r=e.left+e.width+this.padding,s=e.top+e.height+this.padding,d=e.left-t.width-this.padding;"top"===this.direction||"bottom"===this.direction?(n=e.left+(e.width-t.width)/2,n<0?(n=0,this.arrowStyle={left:(e.left+e.right)/2+"px"}):n+t.width>window.innerWidth?(n=window.innerWidth-t.width,this.arrowStyle={left:(e.left+e.right)/2-n+"px"}):delete this.arrowStyle.left,"top"===this.direction?o<0&&s+t.height<=window.innerHeight?(i=s,this.secondDirection="bottom"):(i=o,this.secondDirection=""):s+t.height>window.innerHeight&&o>=0?(i=o,this.secondDirection="top"):(i=s,this.secondDirection="")):"left"!==this.direction&&"right"!==this.direction||(i=e.top+(e.height-t.height)/2,i<0?(i=0,this.arrowStyle={top:(e.top+e.bottom)/2+"px"}):i+t.height>window.innerHeight?(i=window.innerHeight-t.height,this.arrowStyle={top:(e.top+e.bottom)/2-i+"px"}):delete this.arrowStyle.top,"left"===this.direction?d<0&&r+t.width<=window.innerWidth?(n=r,this.secondDirection="right"):(n=d,this.secondDirection=""):r+t.width>window.innerWidth&&d>=0?(n=d,this.secondDirection="left"):(n=r,this.secondDirection="")),this.top=i,this.left=n},handleMouseEnter:function(t,e){var n=this;this.currentElement=e.target,this.show=!0,this.$emit("show",t),this.$nextTick(function(){n.computePosition(n.$el,e.target)})},handleMouseLeave:function(t,e){this.show=!1,this.$emit("hide",t)},handleScroll:function(){this.show&&this.computePosition(this.$el,this.currentElement)},isDirectionLine:function(t){return"top"===t||"bottom"===t?"top"===this.direction||"bottom"===this.direction:"left"===this.direction||"right"===this.direction}}}},function(t,e,n){var i=n(0),o=n(1);o.install=function(t){t.directive("popup",i),t.component(o.name,o)},t.exports=o},function(t,e){t.exports=function(t,e,n,i,o){var r,s=t=t||{},d=typeof t.default;"object"!==d&&"function"!==d||(r=t,s=t.default);var c="function"==typeof s?s.options:s;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns),i&&(c._scopeId=i);var h;if(o?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=h):n&&(h=n),h){var l=c.functional,u=l?c.render:c.beforeCreate;l?c.render=function(t,e){return h.call(e),u(t,e)}:c.beforeCreate=u?[].concat(u,h):[h]}return{esModule:r,exports:s,options:c}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],class:t.directionClass,style:{left:t.left+"px",top:t.top+"px"}},[t._t("default"),t._v(" "),n("span",{staticClass:"popup-arrow",class:t.arrowClass,style:t.arrowStyle})],2)},staticRenderFns:[]}}])});